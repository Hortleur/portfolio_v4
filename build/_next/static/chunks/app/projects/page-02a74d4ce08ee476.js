(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{4893:(e,r,l)=>{Promise.resolve().then(l.bind(l,5505))},5505:(e,r,l)=>{"use strict";l.r(r),l.d(r,{default:()=>i});var t=l(5155),s=l(2115),c=l(5855),a=l(6874),n=l.n(a),o=l(7347);function i(){var e;let[r,l]=(0,s.useState)(null),[a,i]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),[m,x]=(0,s.useState)(!1),[p,b]=(0,s.useState)(null),[h,g]=(0,s.useState)(0),j=(0,s.useRef)(null),f="https://minio-api.server.kevinb.run/portfolio-projects/",k="https://hortools.server.kevinb.run/api/",w=()=>{u(!0),fetch("".concat(k,"projects")).then(e=>{if(!e.ok)throw Error("Erreur r\xe9seau : ".concat(e.status));return e.json()}).then(e=>{l(e)}).catch(e=>{h<3?(g(h+1),w()):b(e)}).finally(()=>u(!1))},N=()=>{j.current&&"function"==typeof j.current.close&&j.current.close(),i(null)};if((0,s.useEffect)(()=>{w()},[]),d)return(0,t.jsx)("main",{className:"h-screen w-screen grid place-items-center",children:(0,t.jsx)("p",{children:"Loading..."})});if(p)return(0,t.jsxs)("p",{children:["Erreur : ",p.message]});let v=null!==a||m;return(0,t.jsxs)("main",{className:"min-h-screen w-screen relative ",children:[(0,t.jsx)(c.A,{}),(0,t.jsx)("h1",{className:"text-8xl text-center border-b-4 border-black py-4",children:"Projects"}),(0,t.jsx)("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 place-items-center h-full overflow-y-scroll py-10 gap-6 pb-32 lg:pb-10",children:null==r||null==(e=r.projects)?void 0:e.map(e=>(0,t.jsxs)("div",{className:"w-10/12 md:w-2/3 lg:w-11/12 flex flex-col gap-5 border-b-2 border-r-2 py-4 px-6 border-black",children:[(0,t.jsx)("img",{src:f+e.image.url,alt:e.name,className:"w-2/3 mx-auto"}),(0,t.jsx)("h2",{className:"text-center text-4xl",children:e.name}),(0,t.jsx)("button",{onClick:()=>{var r;return r=e.id,void(x(!0),fetch("".concat(k,"projects/").concat(r)).then(e=>{if(!e.ok)throw Error("Erreur r\xe9seau : ".concat(e.status));return e.json()}).then(e=>{i(e),j.current&&"function"==typeof j.current.showModal&&j.current.showModal()}).catch(e=>b(e)).finally(()=>x(!1)))},className:"border-b-2 border-r-2 border-black mx-auto w-1/2 block text-center cursor-pointer",children:"Voir plus ..."})]},e.id))}),v&&(0,t.jsxs)("dialog",{ref:j,className:"p-6 flex flex-col flex-nowrap gap-5 border border-black w-11/12 md:w-8/12 min-h-[90dvh]  mx-auto border-b-2 border-r-2 relative backdrop:bg-gray-500 backdrop:opacity-90 backdrop-blur-3xl",children:[(0,t.jsx)("button",{className:"absolute top-0 right-3 text-xl md:text-2xl lg:text-5xl font-bold cursor-pointer",onClick:()=>N(),children:"X"}),m&&(0,t.jsxs)("p",{children:[" ",(0,t.jsx)(o.In,{icon:"streamline-ultimate:loading"})," loading..."]}),!m&&a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"text-3xl mb-4 text-center",children:a.project.name}),a.image&&a.image.length>0&&(0,t.jsx)("img",{src:f+a.image[0].url,alt:a.project.name,loading:"lazy",className:"mx-auto mb-4 max-h-96 object-contain"}),a.project.description&&(0,t.jsx)("p",{className:"mb-4",children:a.project.description}),a.galleries&&a.galleries.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-1 place-items-center gap-6",children:a.galleries.map((e,r)=>(0,t.jsx)("img",{src:f+e.url,alt:e.name,loading:"lazy",className:"w-10/12"},r))}),a.technos&&(0,t.jsx)("div",{className:"grid grid-cols-3 gap-6 md:gap-8 mx-auto",children:a.technos.map((e,r)=>(0,t.jsx)(o.In,{icon:e.icon,width:"40"},r))}),"#"!==a.project.link&&(0,t.jsxs)(n(),{href:a.project.link,target:"_blank",className:"w-10/12 mx-auto border-t-2 border-l-2 border-black px-4 py-2 flex flex-row flex-nowrap items-center justify-between",children:["Website ",(0,t.jsx)(o.In,{icon:"nrk:link"})]}),(0,t.jsx)("button",{onClick:()=>N(),className:"block w-10/12 mx-auto border-b-2 border-r-2 border-black px-4 py-2 cursor-pointer",children:"Fermer"})]})]})]})}},5855:(e,r,l)=>{"use strict";l.d(r,{A:()=>a});var t=l(5155),s=l(6874),c=l.n(s);function a(){return(0,t.jsx)(c(),{href:"/",className:"absolute hidden lg:block lg:top-8 lg:left-5 border-b-2 border-r-2 px-4 py-5 z-20",children:"Retour"})}}},e=>{e.O(0,[874,347,441,964,358],()=>e(e.s=4893)),_N_E=e.O()}]);