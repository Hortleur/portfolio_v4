(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{4893:(e,r,l)=>{Promise.resolve().then(l.bind(l,5505))},5505:(e,r,l)=>{"use strict";l.r(r),l.d(r,{default:()=>i});var s=l(5155),t=l(2115),c=l(5855),n=l(6874),a=l.n(n),o=l(7347);function i(){var e;let[r,l]=(0,t.useState)(null),[n,i]=(0,t.useState)(null),[d,u]=(0,t.useState)(!0),[m,p]=(0,t.useState)(!1),[x,h]=(0,t.useState)(null),[b,g]=(0,t.useState)(0),j=(0,t.useRef)(null),f="https://minio-api.server.kevinb.run/portfolio-projects/",w="https://hortools.server.kevinb.run/api/",k=()=>{u(!0),fetch("".concat(w,"projects")).then(e=>{if(!e.ok)throw Error("Erreur r\xe9seau : ".concat(e.status));return e.json()}).then(e=>{l(e)}).catch(e=>{b<3?(g(b+1),k()):h(e)}).finally(()=>u(!1))};if((0,t.useEffect)(()=>{k()},[]),d)return(0,s.jsx)("main",{className:"h-screen w-screen grid place-items-center",children:(0,s.jsx)("p",{children:"Loading..."})});if(x)return(0,s.jsxs)("p",{children:["Erreur : ",x.message]});let N=null!==n||m;return(0,s.jsxs)("main",{className:"min-h-screen w-screen relative ",children:[(0,s.jsx)(c.A,{}),(0,s.jsx)("h1",{className:"text-8xl text-center border-b-4 border-black py-4",children:"Projects"}),(0,s.jsx)("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 place-items-center h-full overflow-y-scroll py-10 gap-6 pb-32 lg:pb-0",children:null==r||null==(e=r.projects)?void 0:e.map(e=>(0,s.jsxs)("div",{className:"w-10/12 md:w-2/3 lg:w-11/12 flex flex-col gap-5 border-b-2 border-r-2 py-4 px-6 border-black",children:[(0,s.jsx)("img",{src:f+e.image.url,alt:e.name,className:"w-2/3 mx-auto"}),(0,s.jsx)("h2",{className:"text-center text-4xl",children:e.name}),(0,s.jsx)("button",{onClick:()=>{var r;return r=e.id,void(p(!0),fetch("".concat(w,"projects/").concat(r)).then(e=>{if(!e.ok)throw Error("Erreur r\xe9seau : ".concat(e.status));return e.json()}).then(e=>{i(e),j.current&&"function"==typeof j.current.showModal&&j.current.showModal()}).catch(e=>h(e)).finally(()=>p(!1)))},className:"border-b-2 border-r-2 border-black mx-auto w-1/2 block text-center cursor-pointer",children:"Voir plus ..."})]},e.id))}),N&&(0,s.jsxs)("dialog",{ref:j,className:"p-6 flex flex-col flex-nowrap gap-5 border border-black w-11/12 md:w-8/12  mx-auto border-b-2 border-r-2",children:[m&&(0,s.jsxs)("p",{children:[" ",(0,s.jsx)(o.In,{icon:"streamline-ultimate:loading"})," loading..."]}),!m&&n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"text-3xl mb-4 text-center",children:n.project.name}),n.image&&n.image.length>0&&(0,s.jsx)("img",{src:f+n.image[0].url,alt:n.project.name,loading:"lazy",className:"mx-auto mb-4 max-h-96 object-contain"}),n.project.description&&(0,s.jsx)("p",{className:"mb-4",children:n.project.description}),n.galleries&&n.galleries.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-1 place-items-center gap-6",children:n.galleries.map((e,r)=>(0,s.jsx)("img",{src:f+e.url,alt:e.name,loading:"lazy",className:"w-10/12"},r))}),n.technos&&(0,s.jsx)("div",{className:"grid grid-cols-3 gap-6 md:gap-8 mx-auto",children:n.technos.map((e,r)=>(0,s.jsx)(o.In,{icon:e.icon,width:"40"},r))}),"#"!==n.project.link&&(0,s.jsxs)(a(),{href:n.project.link,target:"_blank",className:"w-10/12 mx-auto border-t-2 border-l-2 border-black px-4 py-2 flex flex-row flex-nowrap items-center justify-between",children:["Website ",(0,s.jsx)(o.In,{icon:"nrk:link"})]}),(0,s.jsx)("button",{onClick:()=>void(j.current&&"function"==typeof j.current.close&&j.current.close(),i(null)),className:"block w-10/12 mx-auto border-b-2 border-r-2 border-black px-4 py-2 cursor-pointer",children:"Fermer"})]})]})]})}},5855:(e,r,l)=>{"use strict";l.d(r,{A:()=>n});var s=l(5155),t=l(6874),c=l.n(t);function n(){return(0,s.jsx)(c(),{href:"/",className:"absolute hidden lg:block lg:top-5 lg:left-5 border-b-2 border-r-2 px-4 py-5 z-20",children:"Retour"})}}},e=>{e.O(0,[874,347,441,964,358],()=>e(e.s=4893)),_N_E=e.O()}]);